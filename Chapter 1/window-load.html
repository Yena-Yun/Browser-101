<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>window-load</title>
	<!-- script에 defer 쓰면 head에서도 호출 가능 + HTML 로딩 완료되면 바로 호출 -->
	<script src="test.js" defer></script>
</head>

<body>
	<script>
		// DOMContentLoaded: HTML(document) 완료되면 바로 호출 (= defer)
		// (** 페이지 안에 resource가 많은 경우 'load'보다 빨리 호출됨)
		window.addEventListener('DOMContentLoaded', () => {
			console.log('DOMContentLoaded');
		});

		// load: 모든 resource(css, image 등) 다운로드 후 호출
		window.addEventListener('load', () => {
			console.log('load');
		});

		// beforeunload: 웹사이트에서 나가기 직전, 브라우저에서 페이지를 내리기 전에 뭔가를 해야 할 경우 호출
		// (새로고침하면 잠깐 나타났다가 사라짐)
		window.addEventListener('beforeunload', () => {
			console.log('beforeunload');
		});

		// unload: 웹사이트를 나간 직후, 리소스가 모두 내려간 뒤 호출
		window.addEventListener('unload', () => {
			console.log('unload');
		});
	</script>
</body>

</html>