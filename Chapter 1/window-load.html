<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>window-load</title>
	<!-- head에 script 쓰고 defer 키워드: HTML만 완료되면 바로 호출 -->
	<script src="test.js" defer></script>
</head>

<body>
	<script>
		// HTML(document) 완료되면 바로 호출 (= defer)
		// ** 페이지 안에 resource가 많은 경우 'load'보다 빨리 호출됨
		window.addEventListener('DOMContentLoaded', () => {
			console.log('DOMContentLoaded');
		});

		// 모든 resource가 다운로드 된 뒤 - CSS, image까지 모두 불러온 후에 호출
		window.addEventListener('load', () => {
			console.log('load');
		});

		// before unload - 웹사이트 나가기 직전 호출(새로고침하면 잠깐 나타났다가 사라짐)
		// 브라우저에서 페이지를 내리기 전에 뭔가를 해야 할 경우
		window.addEventListener('beforeunload', () => {
			console.log('beforeunload');
		});

		// resource가 모두 unload된 뒤 - 웹사이트 나가진 후 호출
		window.addEventListener('unload', () => {
			console.log('unload');
		});
	</script>
</body>

</html>